---
const services = [
  {
    title: "Real Estate",
    description: "Stunning aerial footage that showcases properties from unique perspectives, increasing buyer interest and sales potential.",
    icon: "üè†",
    features: ["Property tours", "Aerial photography", "Neighborhood views", "Commercial spaces"],
    href: "/services/real-estate"
  },
  {
    title: "Wedding",
    description: "Capture your special day with breathtaking aerial shots that create lasting memories of your perfect moment.",
    icon: "üíç",
    features: ["Ceremony coverage", "Reception footage", "Venue aerials", "Couple portraits"],
    href: "/services/wedding"
  },
  {
    title: "Engagement",
    description: "Document your love story with romantic aerial videography that beautifully captures your engagement moments.",
    icon: "üíï",
    features: ["Proposal shots", "Couple sessions", "Location scouting", "Romantic settings"],
    href: "/services/engagement"
  },
  {
    title: "Automotive",
    description: "Showcase vehicles with dynamic aerial footage perfect for dealerships, auto shows, and private collections.",
    icon: "üöó",
    features: ["Vehicle showcases", "Dealership tours", "Auto events", "Dynamic shots"],
    href: "/services/automotive"
  },
  {
    title: "Marine",
    description: "Capture boats, yachts, and waterfront properties with stunning aerial perspectives over water.",
    icon: "‚õµ",
    features: ["Boat showcases", "Marina footage", "Waterfront properties", "Sailing videos"],
    href: "/services/marine"
  },
  {
    title: "Business",
    description: "Professional promotional videos that highlight your business, facility, or corporate events from above.",
    icon: "üè¢",
    features: ["Corporate videos", "Facility tours", "Event coverage", "Brand promotion"],
    href: "/services/business"
  }
];
---

<section class="pt-16 pb-20 px-6 lg:px-8 relative overflow-hidden">
  <!-- Organic Background Design -->
  <div class="absolute inset-0 pointer-events-none">
    <!-- Multi-layer gradient background -->
    <div class="absolute inset-0 bg-gradient-to-br from-accent-50 via-accent-100 to-stone-100"></div>
    
    <!-- Flowing organic shapes -->
    <div class="absolute -top-32 -left-32 w-96 h-96 bg-gradient-to-br from-vibrant-300/25 to-vibrant-400/10 rounded-full blur-3xl transform rotate-45"></div>
    <div class="absolute -bottom-32 -right-32 w-[30rem] h-[30rem] bg-gradient-to-tl from-success-300/25 to-success-400/10 rounded-full blur-3xl transform -rotate-45"></div>
    <div class="absolute top-1/4 right-1/4 w-80 h-80 bg-gradient-to-r from-warning-300/15 to-vibrant-300/15 rounded-full blur-3xl transform rotate-12"></div>
    
    <!-- Subtle wave patterns -->
    <div class="absolute top-0 left-0 w-full h-48 bg-gradient-to-b from-white/30 to-transparent transform -skew-y-1"></div>
    <div class="absolute bottom-0 right-0 w-full h-48 bg-gradient-to-t from-accent-100/30 to-transparent transform skew-y-1"></div>
    
    <!-- Texture overlay -->
    <div class="absolute inset-0 bg-grid-pattern opacity-0.5"></div>
  </div>
  
  <div class="container-max relative z-10">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-stone-900 mb-4">
        Our Services
      </h2>
      <p class="text-xl text-stone-600 max-w-2xl mx-auto">
        Professional drone videography services tailored to your specific needs
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {services.map((service, index) => (
        <div 
          class="service-card bg-white rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 opacity-0 transform translate-y-8"
          data-index={index}
        >
          <div class="text-4xl mb-4">{service.icon}</div>
          <h3 class="text-2xl font-bold text-stone-900 mb-4">{service.title}</h3>
          <p class="text-stone-600 mb-6">{service.description}</p>
          
          <ul class="space-y-2 mb-6">
            {service.features.map((feature) => (
              <li class="flex items-center text-stone-700">
                <svg class="w-5 h-5 text-vibrant-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                {feature}
              </li>
            ))}
          </ul>
          
          <a href={service.href} class="btn-primary w-full text-center block">
            Learn More
          </a>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const serviceCards = document.querySelectorAll(".service-card");
    
    const observerOptions = {
      threshold: 0.1,
      rootMargin: "0px 0px -50px 0px",
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const card = entry.target as HTMLElement;
          const index = parseInt(card.dataset.index || "0");
          
          // Stagger the animations based on index
          setTimeout(() => {
            card.classList.add("animate-fall-in");
            card.classList.remove("opacity-0", "translate-y-8");
          }, index * 150); // 150ms delay between each card
          
          // Stop observing once animated
          observer.unobserve(card);
        }
      });
    }, observerOptions);
    
    serviceCards.forEach((card) => {
      observer.observe(card);
    });
  });
</script>

<style>
  @keyframes fallIn {
    from {
      opacity: 0;
      transform: translateY(50px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  .animate-fall-in {
    animation: fallIn 0.6s ease-out forwards;
  }
  
  .service-card {
    transition: all 0.3s ease-out;
  }
  
  .service-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
</style>